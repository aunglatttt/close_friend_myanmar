@model CloseFriendMyanamr.Models.EmployeeModel

@{
    ViewData["Title"] = "Create Employee";
}


<div class="row my-3">
    <div class="col-sm-12">
        <h3 class="responsive-heading mb-3">Create New Employee</h3>
        <form asp-action="Create" method="post" id="employeeForm">
            <div class="row">
                <!-- Left Column: Employee Details -->
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header text-primary">
                            Personal Information
                        </div>
                        <div class="card-body">
                            <div class="form-group">
                                <label asp-for="EmployeeName" class="required"></label>
                                <input asp-for="EmployeeName" placeholder="Type here" class="form-control" />
                                <span asp-validation-for="EmployeeName" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label asp-for="PhoneNumber" class="required"></label>
                                <input asp-for="PhoneNumber" placeholder="Type here" class="form-control" />
                                <span asp-validation-for="PhoneNumber" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label asp-for="EmployeeTypeId" class="required"></label>
                                <!-- Use asp-for and asp-items correctly -->
                                <select class="form-select" asp-for="EmployeeTypeId" asp-items="ViewBag.EmployeeType" id="EmployeeTypeId" name="EmployeeTypeId" data-val="true" data-val-required="Employee Type is required.">
                                    <option value="">{{Select}}</option>
                                </select>
                                <!-- Validation message will be shown here -->
                                <span asp-validation-for="EmployeeTypeId" class="text-danger"></span>
                            </div>
                            <div class="form-group form-check">
                                <input asp-for="Status" class="form-check-input" id="Status" />
                                <label class="form-check-label" asp-for="Status">Active</label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Column: Password Card -->
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header text-primary">
                            Login Information
                        </div>
                        <div class="card-body">
                            <div class="form-group">
                                <label asp-for="LoginName" class="required"></label>
                                <input asp-for="LoginName" placeholder="Type here" class="form-control" id="LoginName" />
                                <span asp-validation-for="LoginName" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label asp-for="Password" class="required"></label>
                                <input asp-for="Password" placeholder="Type here" class="form-control" id="Password" />
                                <span asp-validation-for="Password" class="text-danger"></span>
                            </div>
                            <div class="form-group">
                                <label asp-for="ConfirmPassword" class="required"></label>
                                <input asp-for="ConfirmPassword" placeholder="Type here" class="form-control" id="ConfirmPassword" />
                                <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="text-center">
                    <button type="submit" class="btn btn-primary mt-3">Submit</button>
                    <a href="@Url.Action("Index", "Employee")" class="btn btn-secondary mt-3">Back To List</a>
                </div>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}

<script>
    // Optional: Additional client-side check to alert if passwords don't match before submission.
    $(document).ready(function () {
        $('#employeeForm').submit(function (e) {
            var password = $('#Password').val();
            var confirmPassword = $('#ConfirmPassword').val();
            if (password !== confirmPassword) {
                e.preventDefault();
                alert('Passwords do not match!');
            }
        });
    });
</script>